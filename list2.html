<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="css/list2.css">
    <script src="js/jquery-3.2.1.js"></script>
</head>
<body>
    <header>
        <div class="head">
            个人作品
        </div>
        <div class="nav">
            <div class="navbox">
                    <div class="small"><a href="index.html">首页</a></div>
                    <div class="small"><a href="list1.html">简介</a></div>
                    <div class="small"><a href="">作品</a></div>
                    <div class="small"><a href="">联系</a></div>
                    <div class="small"><a href="">专业</a></div>  
            </div>
        </div>
    </header>
    <div class="main">
        <h2 style="margin-top:50px">Web端作品展示</h2>
        <div class="flash">
            <a href="https://605511287.github.io/xiaomijs/" style="left:0"><img src="img/2018-08-09_231603.jpg" alt=""></a>
            <a href=" https://605511287.github.io/suning/"><img src="img/2018-08-09_232011.jpg" alt="" width="972" height="370"></a>
            <a href=" https://605511287.github.io/siyuan/"><img src="img/2018-08-09_232136.jpg" alt=""  width="972" height="370"></a>
            <div class="btn">
                <div class="sbtn active"></div>
                <div class="sbtn"></div>
                <div class="sbtn"></div>
            </div>
            <div class="next">

            </div>
            <div class="prev">

            </div>
        </div>
        <h2 style="margin-top:50px">移动端作品展示</h2>
        <div class="imgbox">
            <a href=" https://605511287.github.io/yidongduan/"><img src="img/2018-08-09_233650.jpg" alt=""></a>
            <a href=" https://605511287.github.io/yidongduan/"><img src="img/2018-08-09_233928.jpg" alt=""></a>
            <a href=" https://605511287.github.io/yidongduan/"><img src="img/2018-08-09_234034.jpg" alt=""></a>
            <a href=" https://605511287.github.io/yidongduan/"><img src="img/2018-08-09_234143.jpg" alt=""></a>
        </div>
        <div class="game">
        <h2 style="margin-top:50px">移动端小游戏</h2> 
            <div class="con">
                <a href=" https://605511287.github.io/fontgame/">
                    <img src="img/2018-08-10_111224.jpg" alt="">
                </a>
            </div>
        </div>
    </div>
</body>
</html>
<script>
     let t = setInterval(move,3000);
    let now=0,next=0;
    let flag =true;
    $(".flash").hover(function(){
        $(".flash .next").fadeIn();
        $(".flash .prev").fadeIn();
        clearInterval(t);
    },function(){
        $(".flash .next").fadeOut();
        $(".flash .prev").fadeOut();
        t = setInterval(move,3000);
    })   
    function move(x=true){
        flag=false;
        if(x==true){
            next++;
            if(next==3){
                next=0;
            }
            $(".flash a").eq(next).css("left","972px")
            $(".flash .sbtn").eq(next).addClass("active");
            $(".flash .sbtn").eq(now).removeClass("active");                    
            $(".flash a").eq(now).animate({left:-972},1000)
            $(".flash a").eq(next).animate({left:0},1000,function(){
                flag = true;
            })
            now = next;
        }
        else{
            next--;
            if(next==-1){
                next=2;
            }
            $(".flash a").eq(next).css("left","-972px")
            $(".flash .sbtn").eq(next).addClass("active");
            $(".flash .sbtn").eq(now).removeClass("active");                    
            $(".flash a").eq(now).animate({left:972},1000)
            $(".flash a").eq(next).animate({left:0},1000,function(){
                flag = true;
            })
            now = next;
        }
    }
    $(".flash .next").click(function(){
      if(!flag){
          return;
      }
      else{
          move();
      }
    })
    $(".flash .prev").click(function(){
       if(!flag){
            return;
       }
       else{
           move(x=false);
       }
    })
    $(".btn .sbtn").click(function(){
        let i  =$(this).index();
        if(i>now){
            $(".flash a").eq(now).animate({left:-972},1000);
            $(".flash a").eq(i).animate({left:0},1000);
            $(".btn .sbtn").eq(now).removeClass("active")
            $(".btn .sbtn").eq(i).addClass("active")
        }
        if(i<now){
            $(".flash a").eq(now).animate({left:972},1000);
            $(".flash a").eq(i).animate({left:0},1000);
            $(".btn .sbtn").eq(now).removeClass("active")
            $(".btn .sbtn").eq(i).addClass("active")
        }
        next=now=i;
    })
</script>